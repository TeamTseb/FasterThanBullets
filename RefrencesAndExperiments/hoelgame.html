<!DOCTYPE html>
<!-- saved from url=(0073)http://www1.ucc.on.ca/GEO/MrHoel/2015/ics4u/content/javascript/index.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<title>Link game test</title>
</head>
<body>
<section align = "center">

<img id="fregatade" width="0" height="0" src="fregatadesprite.png" alt="Fregatade"> 

<!-- This div is the canvas -->
<div>
<canvas id="canvas" width="975" height="600"> <!-- Width was originally 300, height was 200 -->
This text is displayed if your browser does not support HTML5 Canvas.
</canvas>
</div>
	
	<script type="text/javascript">
	/*
	   index.html - draws a dot on the screen, credit to:
	   http://html5.litten.com/moving-shapes-on-the-html5-canvas-with-the-keyboard/
	*/


	// Set some global variables
	var fregrotatemodify = document.getElementById
	var canvas = document.getElementById("canvas");
    var c;	  
   	var ctx;
	//var img = document.getElementById("nisos");
	var dx = 5;
	var dy = 5;
	var x = 415;
	var y = 250;
	var WIDTH = 975;
	var HEIGHT = 600;
	var Yofset = 180;
	//var img = "nisossprite.png";

	// function circle(x,y,r) {
	// 	ctx.beginPath();
	// 	ctx.arc(x, y, r, 0, Math.PI*2, true);
	// 	ctx.fill();
	// }

	function drawFreg() {
		var img = document.getElementById("fregatade");
		ctx.drawImage(fregatade, x, y);	    
	}

	function rect(x,y,w,h) {
		ctx.beginPath();
		ctx.rect(x,y,w,h);
		ctx.closePath();
		ctx.fill();
		ctx.stroke();
	}

	function clear() {
		ctx.clearRect(0, 0, WIDTH, HEIGHT);
	}

	// Important starting function
	function init() {
		canvas = document.getElementById("canvas");
		ctx = canvas.getContext("2d");
		return setInterval(draw, 20); // this is key, tells draw function to fire 10x per second
	}

		function doKeyDown(evt){
			switch (evt.keyCode) {
				case 87:  /* W was pressed */
					if (y - dy > 0){
						y -= dy;
					}
					break;
				case 83:  /* S was pressed */
					if (y + dy < HEIGHT){
						y += dy;
					}
					break;
				case 65:  /* A was pressed */
					if (x - dx > 0){
						x -= dx;
					}
					break;
				case 68:  /* D was pressed */
					if (x + dx < WIDTH){
						x += dx;
					}
					break;
				case 37: // LEFT ARROW
					Yofset += 1;
					break;
				case 39: //Right arrow
					Yofset -= 1;
					break;
				}
		}

	function rotate() {
		ctx.rotate(Yofset * Math.PI / 180);
	}

	function draw() {
		clear();
		ctx.fillStyle = "white";
		ctx.strokeStyle = "black";
		rect(0,0,WIDTH,HEIGHT);
		ctx.fillStyle = "purple";
		drawFreg();
		rotate();
	}
	window.onload = function loadNisos() {
	    var img = document.getElementById("fregatade");	    		
	    ctx.drawImage(fregatade, x, y);
	}


	// Main part of program
	init();
	setInterval(drawFreg, 50);
	window.addEventListener('keydown',doKeyDown,true);

	</script>
</section>

</body>
</html>